{% extends 'base.html' %}

{% block content %}
    <!-- Latest Events -->
    {% if latest_events %}
        <div class="am-g">
            <div data-am-widget="slider" class="fxx-slider am-slider am-slider-c3 am-u-sm-10 am-u-sm-centered am-u-md-8 am-u-md-centered"
                 data-am-slider='{&quot;animation&quot;:&quot;slide&quot;,&quot;slideshow&quot;:false}'>
                <ul class="am-slides">
                    {% for event in latest_events %}
                    <li>
                        <img src="{{ event.image_url }}">
                        <div class="am-slider-desc">{{ event.title }}</div>
                    </li>
                    {% endfor %}
                </ul>
            </div>
        </div>
    {% else %}
        <p>No events are available.</p>
    {% endif %}

    <!-- Search Area -->
    <div class="centered">
        <form action="" class="am-form am-form-inline">
            <div class="am-form-group">
                <!-- Event Type -->
                <select name="event_type" data-am-selected>
                    {% if not event_type or event_type == '' %}
                        <option value="all" selected>All</option>
                    {% else %}
                        <option value="all">All</option>
                    {% endif %}
                    {% if event_type and event_type == 'food' %}
                        <option value="food" selected>Free Food</option>
                    {% else %}
                        <option value="food">Free Food</option>
                    {% endif %}
                    {% if event_type and event_type == 'job' %}
                        <option value="job" selected>Job Info Session</option>
                    {% else %}
                        <option value="job">Job Info Session</option>
                    {% endif %}
                </select>
            </div>

            <!-- Start Date -->
            <div class="am-form-group am-form-icon">
                <span class="am-icon-calendar"></span>
                <input type="text" class="am-form-field" name="event_date" value="{{ event_date }}" placeholder="Start Date" data-am-datepicker/>
            </div>
            <div class="am-form-group">
                <button class="am-btn am-btn-success am-fr">搜索</button>
            </div>
        </form>
    </div>

    <!-- Event list -->
    {% if events %}
        <div class="am-g">
            <ul class="event-list">
                {% for event in events %}
                <li class="event-item event-item-{{ event.status }}">
                        <div class="event-img clearfix">
                                <img src="{{ event.image_url }}">
                        </div>
                        <hr>
                        <div class="event-brief-info">
                            <ul class="am-avg-sm-2">
                                <li class="am-text-truncate">
                                    <span class="am-icon-clock-o"></span> {{ event.title }}
                                </li>
                                <li class="am-text-truncate">
                                    <span class="am-icon-map-marker"></span> {{ event.organizer }}
                                </li>
                                <li class="am-text-truncate">
                                    <span class="am-icon-clock-o"></span> {{ event.date }} ({{ event.duration }}Hours)
                                </li>
                                <li class="am-text-truncate">
                                    <span class="am-icon-clock-o"></span> {{ event.location }}
                                </li>
                            </ul>

                            <a class="am-btn am-btn-primary" href="">Participate</a>
                        </div>
                    </li>
                {% endfor %}
            </ul>
        </div>
    {% else %}
        <p>No events are available.</p>
    {% endif %}

{% endblock %}